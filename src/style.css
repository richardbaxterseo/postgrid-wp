/**
 * PostGrid Block Styles - Modern Dark Theme
 * Enhanced with featured images and gaming aesthetic
 * Version: 0.1.12
 */

/* CSS Custom Properties - Modern Dark Theme */
:root {
	/* Primary Colors */
	--postgrid-dark-bg: #1a1a2e;
	--postgrid-dark-gradient-start: #16213e;
	--postgrid-dark-gradient-end: #0f3460;
	
	/* Text Colors */
	--postgrid-text-primary: #FFFFFF;
	--postgrid-text-secondary: #E0E0E0;
	--postgrid-text-muted: #A0A0A0;
	
	/* Accent Colors */
	--postgrid-accent: #FF6B6B;
	--postgrid-accent-hover: #FF5252;
	
	/* Overlay Colors */
	--postgrid-overlay: rgba(0, 0, 0, 0.4);
	--postgrid-overlay-heavy: rgba(0, 0, 0, 0.7);
	--postgrid-gradient-overlay: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, transparent 100%);
	
	/* Spacing */
	--postgrid-gap: 2rem;
	--postgrid-gap-mobile: 1.25rem;
	--postgrid-content-padding: 2rem;
	--postgrid-content-padding-mobile: 1.5rem;
	
	/* Typography */
	--postgrid-title-size: 1.75rem;
	--postgrid-title-size-mobile: 1.375rem;
	--postgrid-meta-size: 0.875rem;
	--postgrid-excerpt-size: 1rem;
	--postgrid-line-height: 1.6;
	--postgrid-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
	
	/* Effects */
	--postgrid-radius: 12px;
	--postgrid-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
	--postgrid-shadow-hover: 0 8px 40px rgba(0, 0, 0, 0.4);
	--postgrid-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	--postgrid-transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Base Container - Modern Dark Background */
.wp-block-postgrid {
	display: grid;
	grid-template-columns: 1fr;
	gap: var(--postgrid-gap-mobile);
	margin: 0;
	padding: 3rem 1.5rem;
	background: linear-gradient(135deg, var(--postgrid-dark-gradient-start), var(--postgrid-dark-gradient-end));
	border-radius: 16px;
	font-family: var(--postgrid-font-family);
}

/* Individual post item - Modern Card Design */
.wp-block-postgrid__item {
	position: relative;
	overflow: hidden;
	background: var(--postgrid-dark-bg);
	border-radius: var(--postgrid-radius);
	box-shadow: var(--postgrid-shadow);
	transition: var(--postgrid-transition);
	border: 1px solid rgba(255, 255, 255, 0.1);
	display: flex;
	flex-direction: column;
	min-height: 400px;
}

/* Add class when post has thumbnail */
.wp-block-postgrid__item.has-post-thumbnail {
	min-height: 450px;
}

/* Featured Image Container */
.wp-block-postgrid__thumbnail {
	position: relative;
	width: 100%;
	height: 250px;
	overflow: hidden;
	background: linear-gradient(135deg, var(--postgrid-dark-gradient-start), var(--postgrid-dark-gradient-end));
}

.wp-block-postgrid__thumbnail a {
	display: block;
	width: 100%;
	height: 100%;
	position: relative;
}

.wp-block-postgrid__thumbnail img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	transition: var(--postgrid-transition-slow);
}

/* Gradient overlay on images */
.wp-block-postgrid__thumbnail::after {
	content: '';
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	height: 60%;
	background: var(--postgrid-gradient-overlay);
	pointer-events: none;
}

/* Content Container */
.wp-block-postgrid__content {
	padding: var(--postgrid-content-padding-mobile);
	flex: 1;
	display: flex;
	flex-direction: column;
	position: relative;
	z-index: 1;
}

/* When thumbnail exists, overlay content on image */
.has-post-thumbnail .wp-block-postgrid__content {
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	padding: var(--postgrid-content-padding);
	background: linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.7) 70%, transparent 100%);
}

/* Title Styling */
.wp-block-postgrid__title {
	font-size: var(--postgrid-title-size-mobile);
	font-weight: 700;
	line-height: 1.2;
	margin: 0 0 0.75rem 0;
	position: relative;
}

.wp-block-postgrid__title a {
	color: var(--postgrid-text-primary);
	text-decoration: none;
	transition: var(--postgrid-transition);
	display: block;
}

/* Accent line under title */
.wp-block-postgrid__title::after {
	content: '';
	display: block;
	width: 50px;
	height: 3px;
	background: var(--postgrid-accent);
	margin-top: 0.75rem;
	transition: var(--postgrid-transition);
}

/* Meta Information */
.wp-block-postgrid__meta {
	font-size: var(--postgrid-meta-size);
	color: var(--postgrid-text-muted);
	margin-bottom: 1rem;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	display: flex;
	flex-wrap: wrap;
	gap: 0.75rem;
	align-items: center;
}

.wp-block-postgrid__meta a {
	color: var(--postgrid-accent);
	text-decoration: none;
	transition: var(--postgrid-transition);
}

.wp-block-postgrid__meta-separator {
	display: none;
}

.wp-block-postgrid__date {
	color: var(--postgrid-text-muted);
}

/* Category Badge */
.wp-block-postgrid__categories {
	position: absolute;
	top: 1rem;
	left: 1rem;
	z-index: 2;
}

.wp-block-postgrid__categories a {
	background: var(--postgrid-accent);
	color: #ffffff;
	padding: 0.25rem 0.75rem;
	border-radius: 20px;
	font-size: 0.8125rem; /* Increased from 0.75rem (12px to 13px) */
	font-weight: 700; /* Bold instead of 600 */
	text-transform: uppercase;
	letter-spacing: 0.05em;
	text-decoration: none;
	display: inline-block;
}

/* Excerpt */
.wp-block-postgrid__excerpt {
	font-size: var(--postgrid-excerpt-size);
	line-height: var(--postgrid-line-height);
	color: var(--postgrid-text-secondary);
	margin-top: auto;
}

.wp-block-postgrid__excerpt p {
	margin: 0;
	display: -webkit-box;
	-webkit-line-clamp: 3;
	-webkit-box-orient: vertical;
	overflow: hidden;
}

/* Hover Effects */
@media (hover: hover) {
	.wp-block-postgrid__item:hover {
		transform: translateY(-4px);
		box-shadow: var(--postgrid-shadow-hover);
	}
	
	.wp-block-postgrid__item:hover .wp-block-postgrid__thumbnail img {
		transform: scale(1.1);
	}
	
	.wp-block-postgrid__item:hover .wp-block-postgrid__title::after {
		width: 80px;
	}
	
	.wp-block-postgrid__title a:hover {
		color: #FB643C;
	}
	
	.wp-block-postgrid__meta a:hover {
		color: var(--postgrid-accent-hover);
	}
	
	.wp-block-postgrid__categories a:hover {
		background: var(--postgrid-accent-hover);
		transform: translateY(-1px);
	}
}

/* Posts without featured image */
.wp-block-postgrid__item:not(.has-post-thumbnail) .wp-block-postgrid__content {
	position: relative;
	background: none;
	height: 100%;
}

.wp-block-postgrid__item:not(.has-post-thumbnail) {
	background: linear-gradient(135deg, var(--postgrid-dark-gradient-start), var(--postgrid-dark-gradient-end));
}

/* Fallback pattern for missing images */
.wp-block-postgrid__item:not(.has-post-thumbnail)::before {
	content: '';
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	width: 100px;
	height: 100px;
	background: var(--postgrid-accent);
	opacity: 0.1;
	border-radius: 50%;
}

/* Tablet Styles */
@media (min-width: 768px) {
	.wp-block-postgrid {
		gap: var(--postgrid-gap);
		padding: 3rem;
		grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
	}
	
	.wp-block-postgrid__thumbnail {
		height: 280px;
	}
	
	.wp-block-postgrid__title {
		font-size: var(--postgrid-title-size);
	}
	
	.wp-block-postgrid__content {
		padding: var(--postgrid-content-padding);
	}
}

/* Desktop Column Variations */
@media (min-width: 992px) {
	/* 2 columns */
	.wp-block-postgrid.columns-2 {
		grid-template-columns: repeat(2, 1fr);
	}
	
	/* 3 columns */
	.wp-block-postgrid.columns-3 {
		grid-template-columns: repeat(3, 1fr);
	}
	
	/* 4 columns */
	.wp-block-postgrid.columns-4 {
		grid-template-columns: repeat(4, 1fr);
	}
	
	/* 5 columns */
	.wp-block-postgrid.columns-5 {
		grid-template-columns: repeat(5, 1fr);
	}
	
	/* 6 columns */
	.wp-block-postgrid.columns-6 {
		grid-template-columns: repeat(6, 1fr);
	}
}

/* Large Desktop */
@media (min-width: 1200px) {
	.wp-block-postgrid__item {
		min-height: 480px;
	}
	
	.wp-block-postgrid__thumbnail {
		height: 300px;
	}
}

/* No posts message */
.wp-block-postgrid__no-posts {
	text-align: center;
	padding: 4rem 2rem;
	color: var(--postgrid-text-muted);
	font-style: italic;
	grid-column: 1 / -1;
	background: var(--postgrid-dark-bg);
	border-radius: var(--postgrid-radius);
	border: 2px dashed rgba(255, 255, 255, 0.2);
}

/* Loading Animation */
@keyframes postgrid-pulse {
	0% { opacity: 0.6; }
	50% { opacity: 0.3; }
	100% { opacity: 0.6; }
}

.wp-block-postgrid--loading .wp-block-postgrid__item {
	animation: postgrid-pulse 2s ease-in-out infinite;
}

.wp-block-postgrid--loading .wp-block-postgrid__thumbnail {
	background: linear-gradient(90deg, 
		rgba(255, 107, 107, 0.1) 0%, 
		rgba(255, 107, 107, 0.2) 50%, 
		rgba(255, 107, 107, 0.1) 100%);
	background-size: 200% 100%;
	animation: postgrid-loading 1.5s ease-in-out infinite;
}

@keyframes postgrid-loading {
	0% { background-position: 200% 0; }
	100% { background-position: -200% 0; }
}

/* Staggered entrance animation */
.wp-block-postgrid--animated .wp-block-postgrid__item {
	opacity: 0;
	transform: translateY(20px);
	animation: postgrid-fade-in 0.6s ease-out forwards;
}

.wp-block-postgrid--animated .wp-block-postgrid__item:nth-child(1) { animation-delay: 0.1s; }
.wp-block-postgrid--animated .wp-block-postgrid__item:nth-child(2) { animation-delay: 0.2s; }
.wp-block-postgrid--animated .wp-block-postgrid__item:nth-child(3) { animation-delay: 0.3s; }
.wp-block-postgrid--animated .wp-block-postgrid__item:nth-child(4) { animation-delay: 0.4s; }
.wp-block-postgrid--animated .wp-block-postgrid__item:nth-child(5) { animation-delay: 0.5s; }
.wp-block-postgrid--animated .wp-block-postgrid__item:nth-child(6) { animation-delay: 0.6s; }

@keyframes postgrid-fade-in {
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Focus styles for accessibility */
.wp-block-postgrid__item:focus-within {
	outline: 3px solid var(--postgrid-accent);
	outline-offset: 2px;
}

.wp-block-postgrid__title a:focus,
.wp-block-postgrid__meta a:focus,
.wp-block-postgrid__categories a:focus {
	outline: 2px solid var(--postgrid-accent);
	outline-offset: 2px;
}

/* Print styles */
@media print {
	.wp-block-postgrid {
		background: white;
		padding: 0;
	}
	
	.wp-block-postgrid__item {
		background: white;
		color: black;
		box-shadow: none;
		border: 1px solid #ddd;
		page-break-inside: avoid;
	}
	
	.wp-block-postgrid__title a,
	.wp-block-postgrid__excerpt {
		color: black;
	}
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
	
	.wp-block-postgrid__item:hover {
		transform: none;
	}
	
	.wp-block-postgrid__item:hover .wp-block-postgrid__thumbnail img {
		transform: none;
	}
}

/* Alignment variations */
.wp-block-postgrid.alignwide {
	width: 100%;
}

.wp-block-postgrid.alignfull {
	width: 100vw;
	margin-left: calc(50% - 50vw);
	border-radius: 0;
}

/* Light theme override - if needed */
.wp-block-postgrid.is-style-light {
	background: #f5f5f5;
	
	--postgrid-dark-bg: #ffffff;
	--postgrid-text-primary: #1e1e1e;
	--postgrid-text-secondary: #333;
	--postgrid-text-muted: #666;
	--postgrid-accent: #FF5252;
}

.wp-block-postgrid.is-style-light .wp-block-postgrid__item {
	background: white;
	box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
	border: 1px solid rgba(0, 0, 0, 0.05);
}